hostname {{ hostname | d(inventory_name) }}

ip domain name {{ domain_name }}

{% for item in users if users is defined %}
username {{ item.username }} privilege {{ item.privilege }} {%if item.algorithm_type is defined %}algorithm-type {{ item.algorithm_type }} {% endif %} secret {{ item.configured_password }}
{% endfor %}

enable {{ enable_type }} {{ enable_cleartext_password }}

{% if password_encryption %}
service password-encryption
{% else %}
no service password-encryption
{% endif %}

{% if aaa_enabled %}
aaa new-model
aaa authentication login default local
aaa authorization exec default local
{% else %}
no aaa new-model
{% endif %}

{% if aaa_authorization_console %}
aaa authorization console
{% else %}
no aaa authorization console
{% endif %}

clock timezone {{ timezone_name }} {{ timezone_offset }}